I"°<p>èƒŒæ™¯:</p>

<p>ä¸ºäº†é˜²èŒƒ SQL æ³¨å…¥æ”»å‡», åœ¨æŸ¥è¯¢ mysql çš„æ—¶å€™, æˆ‘ä»¬ä¼šé€‰æ‹©å‚æ•°åŒ–æŸ¥è¯¢. ä½†æ˜¯, æœ‰äº›æƒ…å†µæ¯”è¾ƒç‰¹åˆ«, ä¼ å…¥çš„å‚æ•°éœ€è¦ç‰¹åˆ«å¤„ç†æ‰å¯ä»¥ä¼ å…¥, å¸¸è§çš„å°±æ˜¯ in å’Œ like çš„åœºæ™¯.</p>

<p>1 æ¨¡ç³ŠæŸ¥è¯¢ like</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>login = "%" + login + "%"
db.query(`select * from test where login like ? or id like ?`, login, login)
</code></pre></div></div>

<p>æœ‰çš„ mysql é©±åŠ¨åº“éœ€è¦å¯¹ % ç¬¦å·è¿›è¡Œè½¬ä¹‰, æ¯”å¦‚æ›¿æ¢æˆ %%</p>

<p>2 in æŸ¥è¯¢</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ids = [1, 2, 3]
db.query(`select * from test where id in (?, ?)`, ids[0], ids[1], ids[2])
</code></pre></div></div>

<p>æ—¥å¸¸å¼€å‘ä¸­, ids çš„æ•°é‡å¾€å¾€æ˜¯ä¸ç¡®å®šçš„, å› æ­¤è¦å¡«å¤šå°‘ä¸ªå‚æ•°ä¹Ÿä¸ç¡®å®š.
å¦‚æœæ˜¯çº¯æ•°å­—çš„ in æŸ¥è¯¢, å¯ä»¥è€ƒè™‘è½¬ä¸ºå­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼, ä¹Ÿä¸ä¼šæœ‰ sql æ³¨å…¥çš„é—®é¢˜ (ä¸ä¼šæ”¹å˜ sql çš„è¯­ä¹‰).</p>

<p>ä¹Ÿå¯ä»¥è€ƒè™‘ä¸‹é¢è¿™ç§åšæ³•:
å…ˆå¾ªç¯æ‹¼æ¥å‡º sql è¯­å¥éƒ¨åˆ†çš„ ? å ä½ç¬¦å·: 
<code class="highlighter-rouge">select * from test where id in (?, ?)</code></p>

<p>ç„¶åæŠŠå‚æ•°çš„ list å±•å¼€ä¼ å…¥:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>db.query(`select * from test where id in (?, ?)`, idsâ€¦)
</code></pre></div></div>

<p>å¦‚æœè¿˜æœ‰å…¶ä»–æ¡ä»¶çš„å‚æ•°éœ€è¦å ä½, å¯ä»¥ append åˆ° ids ä¸­, ä¾æ¬¡å±•å¼€:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ids = append(ids, login)
db.query(`select * from test where id in (?, ?) and login = ?`, idsâ€¦)
</code></pre></div></div>

:ET